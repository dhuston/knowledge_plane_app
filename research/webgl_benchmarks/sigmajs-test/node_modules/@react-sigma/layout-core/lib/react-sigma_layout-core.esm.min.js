import*as t from"react";import e,{useRef as r,useCallback as a,useState as n,useEffect as s}from"react";import{useSigma as o,isEqual as i}from"@react-sigma/core";function l(t,e){return(n=e)=>{const s=o(),l=r(e);return i(l.current,n)||(l.current=n),{positions:a((()=>l.current?t(s.getGraph(),l.current):{}),[s,l]),assign:a((()=>{l.current&&t.assign(s.getGraph(),l.current)}),[s,l])}}}function c(t){return e=>{const l=o(),[c,u]=n(!1),[p,g]=n(null),m=r();return i(m.current,e)||(m.current=e),s((()=>{u(!1);let e=null;return m.current&&(e=new t(l.getGraph(),m.current)),g(e),()=>{null!==e&&e.kill()}}),[l,m,g,u]),{stop:a((()=>{p&&(p.stop(),u(!1))}),[p,u]),start:a((()=>{p&&(p.start(),u(!0))}),[p,u]),kill:a((()=>{p&&p.kill(),u(!1)}),[p,u]),isRunning:c}}}var u;function p(){return p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},p.apply(this,arguments)}var g,m=function(e){return t.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"play-solid_svg__svg-inline--fa play-solid_svg__fa-play play-solid_svg__fa-w-14","data-icon":"play","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),u||(u=t.createElement("path",{fill:"currentColor",d:"M424.4 214.7 72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6"})))};function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},f.apply(this,arguments)}var d=function(e){return t.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"stop-solid_svg__svg-inline--fa stop-solid_svg__fa-stop stop-solid_svg__fa-w-14","data-icon":"stop","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),g||(g=t.createElement("path",{fill:"currentColor",d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48"})))};function h({id:t,className:r,style:a,layout:n,settings:i,autoRunFor:l,children:c,labels:u={}}){const p=o(),{stop:g,start:f,isRunning:h}=n(i),v={className:`react-sigma-control ${r||""}`,id:t,style:a};return s((()=>{if(!p)return;let t=null;return void 0!==l&&l>-1&&p.getGraph().order>0&&(f(),t=l>0?window.setTimeout((()=>{g()}),l):null),()=>{t&&clearTimeout(t)}}),[l,f,g,p]),e.createElement("div",Object.assign({},v),e.createElement("button",{onClick:()=>h?g():f(),title:h?u.stop||"Stop the layout animation":u.start||"Start the layout animation"},c&&!h&&c[0],c&&h&&c[1],!c&&!h&&e.createElement(m,{style:{width:"1em"}}),!c&&h&&e.createElement(d,{style:{width:"1em"}})))}export{h as WorkerLayoutControl,l as useLayoutFactory,c as useWorkerLayoutFactory};
//# sourceMappingURL=react-sigma_layout-core.esm.min.js.map
