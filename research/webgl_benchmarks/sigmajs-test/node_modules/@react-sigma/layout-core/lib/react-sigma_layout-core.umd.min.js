!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@react-sigma/core")):"function"==typeof define&&define.amd?define(["exports","react","@react-sigma/core"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@react-sigma/layout-core"]={},e.React,e.core)}(this,(function(e,t,r){"use strict";var n,a=function(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}(t);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}var i,o=function(e){return a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"play-solid_svg__svg-inline--fa play-solid_svg__fa-play play-solid_svg__fa-w-14","data-icon":"play","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),n||(n=a.createElement("path",{fill:"currentColor",d:"M424.4 214.7 72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6"})))};function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}var c=function(e){return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"stop-solid_svg__svg-inline--fa stop-solid_svg__fa-stop stop-solid_svg__fa-w-14","data-icon":"stop","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),i||(i=a.createElement("path",{fill:"currentColor",d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48"})))};e.WorkerLayoutControl=function({id:e,className:n,style:a,layout:s,settings:i,autoRunFor:l,children:u,labels:f={}}){const p=r.useSigma(),{stop:g,start:d,isRunning:m}=s(i),h={className:`react-sigma-control ${n||""}`,id:e,style:a};return t.useEffect((()=>{if(!p)return;let e=null;return void 0!==l&&l>-1&&p.getGraph().order>0&&(d(),e=l>0?window.setTimeout((()=>{g()}),l):null),()=>{e&&clearTimeout(e)}}),[l,d,g,p]),t.createElement("div",Object.assign({},h),t.createElement("button",{onClick:()=>m?g():d(),title:m?f.stop||"Stop the layout animation":f.start||"Start the layout animation"},u&&!m&&u[0],u&&m&&u[1],!u&&!m&&t.createElement(o,{style:{width:"1em"}}),!u&&m&&t.createElement(c,{style:{width:"1em"}})))},e.useLayoutFactory=function(e,n){return(a=n)=>{const s=r.useSigma(),i=t.useRef(n);return r.isEqual(i.current,a)||(i.current=a),{positions:t.useCallback((()=>i.current?e(s.getGraph(),i.current):{}),[s,i]),assign:t.useCallback((()=>{i.current&&e.assign(s.getGraph(),i.current)}),[s,i])}}},e.useWorkerLayoutFactory=function(e){return n=>{const a=r.useSigma(),[s,i]=t.useState(!1),[o,l]=t.useState(null),c=t.useRef();return r.isEqual(c.current,n)||(c.current=n),t.useEffect((()=>{i(!1);let t=null;return c.current&&(t=new e(a.getGraph(),c.current)),l(t),()=>{null!==t&&t.kill()}}),[a,c,l,i]),{stop:t.useCallback((()=>{o&&(o.stop(),i(!1))}),[o,i]),start:t.useCallback((()=>{o&&(o.start(),i(!0))}),[o,i]),kill:t.useCallback((()=>{o&&o.kill(),i(!1)}),[o,i]),isRunning:s}}}}));
//# sourceMappingURL=react-sigma_layout-core.umd.min.js.map
