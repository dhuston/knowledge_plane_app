backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:__main__:Starting development user creation script
backend-1  | INFO:__main__:Development user already exists: dev@example.com (11111111-1111-1111-1111-111111111111)
backend-1  | INFO:__main__:Updated development user: dev@example.com (11111111-1111-1111-1111-111111111111)
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:__main__:Starting development user creation script
backend-1  | INFO:__main__:Development user already exists: dev@example.com (11111111-1111-1111-1111-111111111111)
backend-1  | INFO:__main__:Updated development user: dev@example.com (11111111-1111-1111-1111-111111111111)
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | INFO:app.api.v1.endpoints.auth:Fetching list of available tenants
backend-1  | INFO:app.api.v1.endpoints.auth:Returning 7 active tenants
backend-1  | INFO:app.main:GET /api/v1/auth/tenants - Status: 200 - Time: 0.1279s
backend-1  | INFO:     172.18.0.1:61666 - "GET /api/v1/auth/tenants HTTP/1.1" 200 OK
backend-1  | INFO:app.api.v1.endpoints.auth:Demo login requested for tenant_id=3fa85f64-5717-4562-b3fc-2c963f66afa6 (name: Pharma AI Demo, domain: pharmademo.biosphere.ai)
backend-1  | INFO:app.api.v1.endpoints.auth:Using quick login fix for development
backend-1  | INFO:app.api.v1.endpoints.auth:Using provided tenant ID: 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | INFO:app.api.v1.endpoints.auth:Token payload: user_id=11111111-1111-1111-1111-111111111111, tenant_id=3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | INFO:app.api.v1.endpoints.auth:Demo login succeeded with quick fix - returning token
backend-1  | INFO:app.main:GET /api/v1/auth/demo-login - Status: 200 - Time: 0.0236s
backend-1  | INFO:     172.18.0.1:61666 - "GET /api/v1/auth/demo-login?tenant_id=3fa85f64-5717-4562-b3fc-2c963f66afa6 HTTP/1.1" 200 OK
backend-1  | INFO:app.main:OPTIONS /api/v1/users/me - Status: 200 - Time: 0.0002s
backend-1  | INFO:     172.18.0.1:61666 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.0966s
backend-1  | INFO:     172.18.0.1:61666 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:     ('172.18.0.1', 58918) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5NTgsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.U2zLF18Ue9-GxydjvmLqxGbq2jgwDBWQiwCeAchWdS0" 403
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | INFO:     ('172.18.0.1', 58952) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5NTgsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.U2zLF18Ue9-GxydjvmLqxGbq2jgwDBWQiwCeAchWdS0" 403
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | INFO:     ('172.18.0.1', 58964) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5NTgsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.U2zLF18Ue9-GxydjvmLqxGbq2jgwDBWQiwCeAchWdS0" 403
backend-1  | INFO:     ('172.18.0.1', 58978) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5NTgsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.U2zLF18Ue9-GxydjvmLqxGbq2jgwDBWQiwCeAchWdS0" 403
backend-1  | INFO:     ('172.18.0.1', 58986) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5NTgsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.U2zLF18Ue9-GxydjvmLqxGbq2jgwDBWQiwCeAchWdS0" 403
backend-1  | INFO:     ('172.18.0.1', 58992) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5NTgsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.U2zLF18Ue9-GxydjvmLqxGbq2jgwDBWQiwCeAchWdS0" 403
backend-1  | INFO:     ('172.18.0.1', 61020) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5NTgsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.U2zLF18Ue9-GxydjvmLqxGbq2jgwDBWQiwCeAchWdS0" 403
backend-1  | INFO:     ('172.18.0.1', 61030) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5NTgsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.U2zLF18Ue9-GxydjvmLqxGbq2jgwDBWQiwCeAchWdS0" 403
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | INFO:app.api.v1.endpoints.auth:Fetching list of available tenants
backend-1  | INFO:app.api.v1.endpoints.auth:Returning 7 active tenants
backend-1  | INFO:app.main:GET /api/v1/auth/tenants - Status: 200 - Time: 0.0789s
backend-1  | INFO:     172.18.0.1:55548 - "GET /api/v1/auth/tenants HTTP/1.1" 200 OK
backend-1  | INFO:app.api.v1.endpoints.auth:Demo login requested for tenant_id=242f2060-a185-4982-95b5-43e3b208702f (name: Tech Innovations Inc., domain: techinnovations.com)
backend-1  | INFO:app.api.v1.endpoints.auth:Using quick login fix for development
backend-1  | INFO:app.api.v1.endpoints.auth:Using provided tenant ID: 242f2060-a185-4982-95b5-43e3b208702f
backend-1  | INFO:app.api.v1.endpoints.auth:Token payload: user_id=11111111-1111-1111-1111-111111111111, tenant_id=242f2060-a185-4982-95b5-43e3b208702f
backend-1  | INFO:app.api.v1.endpoints.auth:Demo login succeeded with quick fix - returning token
backend-1  | INFO:app.main:GET /api/v1/auth/demo-login - Status: 200 - Time: 0.0420s
backend-1  | INFO:     172.18.0.1:65398 - "GET /api/v1/auth/demo-login?tenant_id=242f2060-a185-4982-95b5-43e3b208702f HTTP/1.1" 200 OK
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.0860s
backend-1  | INFO:     172.18.0.1:65398 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | INFO:     ('172.18.0.1', 65442) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | INFO:     ('172.18.0.1', 65468) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | INFO:     ('172.18.0.1', 65474) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 65488) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 65494) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 65504) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 59284) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 59298) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 59654) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | INFO:     ('172.18.0.1', 59678) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | INFO:     ('172.18.0.1', 58136) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 58150) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 58154) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 58158) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 58160) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 58168) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:app.api.v1.endpoints.auth:Fetching list of available tenants
backend-1  | INFO:app.api.v1.endpoints.auth:Returning 7 active tenants
backend-1  | INFO:app.main:GET /api/v1/auth/tenants - Status: 200 - Time: 0.0443s
backend-1  | INFO:     172.18.0.1:63024 - "GET /api/v1/auth/tenants HTTP/1.1" 200 OK
backend-1  | INFO:app.api.v1.endpoints.auth:Demo login requested for tenant_id=3fa85f64-5717-4562-b3fc-2c963f66afa6 (name: Pharma AI Demo, domain: pharmademo.biosphere.ai)
backend-1  | INFO:app.api.v1.endpoints.auth:Using quick login fix for development
backend-1  | INFO:app.api.v1.endpoints.auth:Using provided tenant ID: 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | INFO:app.api.v1.endpoints.auth:Token payload: user_id=11111111-1111-1111-1111-111111111111, tenant_id=3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | INFO:app.api.v1.endpoints.auth:Demo login succeeded with quick fix - returning token
backend-1  | INFO:app.main:GET /api/v1/auth/demo-login - Status: 200 - Time: 0.0432s
backend-1  | INFO:     172.18.0.1:62592 - "GET /api/v1/auth/demo-login?tenant_id=3fa85f64-5717-4562-b3fc-2c963f66afa6 HTTP/1.1" 200 OK
backend-1  | INFO:     172.18.0.1:62592 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:app.main:OPTIONS /api/v1/users/me - Status: 200 - Time: 0.0002s
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.0060s
backend-1  | INFO:     172.18.0.1:62592 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:     ('172.18.0.1', 62660) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTAxNjUsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.ShL82t5PlzVx63Z_Ke05Fvri5teyXzQ15Yz12P8WjbE" 403
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | INFO:     ('172.18.0.1', 62694) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTAxNjUsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.ShL82t5PlzVx63Z_Ke05Fvri5teyXzQ15Yz12P8WjbE" 403
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | INFO:     ('172.18.0.1', 58084) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTAxNjUsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.ShL82t5PlzVx63Z_Ke05Fvri5teyXzQ15Yz12P8WjbE" 403
backend-1  | INFO:     ('172.18.0.1', 58088) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTAxNjUsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.ShL82t5PlzVx63Z_Ke05Fvri5teyXzQ15Yz12P8WjbE" 403
backend-1  | INFO:     ('172.18.0.1', 58100) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTAxNjUsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.ShL82t5PlzVx63Z_Ke05Fvri5teyXzQ15Yz12P8WjbE" 403
backend-1  | INFO:     ('172.18.0.1', 58112) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTAxNjUsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.ShL82t5PlzVx63Z_Ke05Fvri5teyXzQ15Yz12P8WjbE" 403
backend-1  | INFO:     ('172.18.0.1', 58124) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTAxNjUsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.ShL82t5PlzVx63Z_Ke05Fvri5teyXzQ15Yz12P8WjbE" 403
backend-1  | INFO:     ('172.18.0.1', 58128) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTAxNjUsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.ShL82t5PlzVx63Z_Ke05Fvri5teyXzQ15Yz12P8WjbE" 403
backend-1  | WARNING:  WatchFiles detected changes in 'scripts/create_dev_user.py'. Reloading...
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | WARNING:  WatchFiles detected changes in 'scripts/create_dev_user.py'. Reloading...
backend-1  | WARNING:  WatchFiles detected changes in 'scripts/create_dev_user.py'. Reloading...
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | WARNING:  WatchFiles detected changes in 'scripts/create_dev_user.py'. Reloading...
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | WARNING:  WatchFiles detected changes in 'scripts/create_dev_user.py'. Reloading...
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | WARNING:  WatchFiles detected changes in 'scripts/create_dev_user.py'. Reloading...
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | WARNING:  WatchFiles detected changes in 'scripts/create_dev_user.py'. Reloading...
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:__main__:Starting development user creation script
backend-1  | INFO:__main__:Found existing user with email dan@example.com, ID: bd1e197e-ba62-408d-9d3b-ae4789e0c0c6
backend-1  | INFO:__main__:Will use a different email for dev user to avoid collision
backend-1  | INFO:__main__:Development user already exists: dev.dan@example.com (11111111-1111-1111-1111-111111111111)
backend-1  | INFO:__main__:Updated development user: Dan (11111111-1111-1111-1111-111111111111) with email dev.dan@example.com
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | INFO:     172.18.0.1:65470 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:app.main:OPTIONS /api/v1/users/me - Status: 200 - Time: 0.0006s
backend-1  | INFO:app.main:OPTIONS /api/v1/users/me - Status: 200 - Time: 0.0007s
backend-1  | INFO:     172.18.0.1:65486 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:app.api.v1.endpoints.auth:Fetching list of available tenants
backend-1  | INFO:app.api.v1.endpoints.auth:Returning 7 active tenants
backend-1  | INFO:app.main:GET /api/v1/auth/tenants - Status: 200 - Time: 0.0877s
backend-1  | INFO:     172.18.0.1:65468 - "GET /api/v1/auth/tenants HTTP/1.1" 200 OK
backend-1  | INFO:     172.18.0.1:65470 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.1493s
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.0036s
backend-1  | INFO:     172.18.0.1:65470 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.0038s
backend-1  | INFO:     172.18.0.1:65470 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | INFO:app.api.v1.endpoints.auth:Demo login requested for tenant_id=3fa85f64-5717-4562-b3fc-2c963f66afa6 (name: Pharma AI Demo, domain: pharmademo.biosphere.ai)
backend-1  | INFO:app.api.v1.endpoints.auth:Using quick login fix for development
backend-1  | INFO:app.api.v1.endpoints.auth:Using provided tenant ID: 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | INFO:app.api.v1.endpoints.auth:Token payload: user_id=11111111-1111-1111-1111-111111111111, tenant_id=3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | INFO:app.api.v1.endpoints.auth:Demo login succeeded with quick fix - returning token
backend-1  | INFO:app.main:GET /api/v1/auth/demo-login - Status: 200 - Time: 0.1336s
backend-1  | INFO:     172.18.0.1:61780 - "GET /api/v1/auth/demo-login?tenant_id=3fa85f64-5717-4562-b3fc-2c963f66afa6 HTTP/1.1" 200 OK
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.0840s
backend-1  | INFO:     172.18.0.1:61780 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | INFO:     ('172.18.0.1', 61814) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTA1NDMsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.Yc0bO6bcAgjqWEOwhSO9SBlXeERZtH0_0oR6Fcv6H04" 403
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | INFO:     ('172.18.0.1', 61860) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTA1NDMsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.Yc0bO6bcAgjqWEOwhSO9SBlXeERZtH0_0oR6Fcv6H04" 403
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | INFO:     ('172.18.0.1', 57224) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTA1NDMsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.Yc0bO6bcAgjqWEOwhSO9SBlXeERZtH0_0oR6Fcv6H04" 403
backend-1  | INFO:     ('172.18.0.1', 57238) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTA1NDMsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.Yc0bO6bcAgjqWEOwhSO9SBlXeERZtH0_0oR6Fcv6H04" 403
backend-1  | INFO:     ('172.18.0.1', 57240) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTA1NDMsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.Yc0bO6bcAgjqWEOwhSO9SBlXeERZtH0_0oR6Fcv6H04" 403
backend-1  | INFO:     ('172.18.0.1', 57246) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTA1NDMsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.Yc0bO6bcAgjqWEOwhSO9SBlXeERZtH0_0oR6Fcv6H04" 403
backend-1  | INFO:     ('172.18.0.1', 64816) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTA1NDMsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.Yc0bO6bcAgjqWEOwhSO9SBlXeERZtH0_0oR6Fcv6H04" 403
backend-1  | INFO:     ('172.18.0.1', 64826) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwOTA1NDMsInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjNmYTg1ZjY0LTU3MTctNDU2Mi1iM2ZjLTJjOTYzZjY2YWZhNiJ9.Yc0bO6bcAgjqWEOwhSO9SBlXeERZtH0_0oR6Fcv6H04" 403
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | [Session] DEBUG: Current process running as OS user: appuser
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.config:[Config] Building DB URI with: scheme=postgresql+asyncpg, user=postgres, host=db, port=5432
backend-1  | INFO:app.core.oauth_provider:Registering all OAuth providers: []
backend-1  | INFO:app.core.oauth_provider:Successfully registered all OAuth providers
backend-1  | INFO:app.main:OPTIONS /api/v1/users/me - Status: 200 - Time: 0.0015s
backend-1  | INFO:     172.18.0.1:64448 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:app.main:OPTIONS /api/v1/users/me - Status: 200 - Time: 0.0023s
backend-1  | INFO:     172.18.0.1:64436 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.1730s
backend-1  | INFO:     172.18.0.1:64448 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  | INFO:     172.18.0.1:64436 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.0065s
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | INFO:     ('172.18.0.1', 64508) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | INFO:     ('172.18.0.1', 64520) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  | INFO:     172.18.0.1:64456 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.0059s
backend-1  | INFO:     ('172.18.0.1', 64530) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 64538) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 63172) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 63184) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 55514) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 55530) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 64752) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | INFO:     ('172.18.0.1', 64770) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | INFO:     ('172.18.0.1', 57000) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 57012) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 57026) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 57438) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 57448) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 57454) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:app.api.v1.endpoints.auth:Demo login requested for tenant_id=None
backend-1  | INFO:app.api.v1.endpoints.auth:Using quick login fix for development
backend-1  | INFO:app.api.v1.endpoints.auth:No tenant ID provided, using default: d3667ea1-079a-434e-84d2-60e84757b5d5
backend-1  | INFO:app.api.v1.endpoints.auth:Token payload: user_id=11111111-1111-1111-1111-111111111111, tenant_id=d3667ea1-079a-434e-84d2-60e84757b5d5
backend-1  | INFO:app.api.v1.endpoints.auth:Demo login succeeded with quick fix - returning token
backend-1  | INFO:app.main:GET /api/v1/auth/demo-login - Status: 200 - Time: 0.0257s
backend-1  | INFO:     172.18.0.1:62318 - "GET /api/v1/auth/demo-login HTTP/1.1" 200 OK
backend-1  | INFO:app.main:OPTIONS /api/v1/users/me - Status: 200 - Time: 0.0024s
backend-1  | INFO:     172.18.0.1:64338 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:     172.18.0.1:64354 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | INFO:app.main:OPTIONS /api/v1/users/me - Status: 200 - Time: 0.0053s
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.0216s
backend-1  | INFO:     172.18.0.1:64338 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.0039s
backend-1  | INFO:     172.18.0.1:64338 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  | INFO:app.main:GET /api/v1/users/me - Status: 200 - Time: 0.0024s
backend-1  | INFO:     172.18.0.1:64338 - "GET /api/v1/users/me HTTP/1.1" 200 OK
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | INFO:     ('172.18.0.1', 64422) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  |     prefs = notification_preference.get_all_for_user(db=db, user_id=current_user.id)
backend-1  |   File "/app/app/crud/crud_notification.py", line 313, in get_all_for_user
backend-1  | INFO:     ('172.18.0.1', 64436) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | WARNING:app.core.security:Token tenant_id 242f2060-a185-4982-95b5-43e3b208702f doesn't match user's tenant 3fa85f64-5717-4562-b3fc-2c963f66afa6
backend-1  | WARNING:app.core.security:DEBUG MODE: Allowing mismatched tenant for dev user
backend-1  |     |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |     |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  |     notifications_with_recipients = notification.get_user_notifications(
backend-1  |   File "/app/app/crud/crud_notification.py", line 50, in get_user_notifications
backend-1  | INFO:     ('172.18.0.1', 64448) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 64454) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 63344) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 63350) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 57716) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
backend-1  | INFO:     ('172.18.0.1', 57730) - "WebSocket /api/v1/ws/delta?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDcwODk5OTksInN1YiI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSIsInRlbmFudF9pZCI6IjI0MmYyMDYwLWExODUtNDk4Mi05NWI1LTQzZTNiMjA4NzAyZiJ9.WQRdbcBZC-a34p77xm6IEcw5UBtk9klgMkwWxosqIKg" 403
